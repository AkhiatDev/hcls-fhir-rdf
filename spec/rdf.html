<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html>
<!-- 
###############################################################
TO RENDER THIS DOCUMENT IN YOUR BROWSER, USE THIS URL:
http://w3c.github.io/hcls-fhir-rdf/spec/
###############################################################
-->
<html>
	<head>
		<title>RDF Representation</title>
		<meta charset="utf-8"/>
		<script src="https://www.w3.org/Tools/respec/respec-w3c-common" async class="remove"></script>
		<script class="remove">
			var respecConfig = {
				edDraftURI: "http://w3c.github.io/hcls-fhir-rdf/spec/rdf.html",
				issueBase: "https://github.com/w3c/hcls-fhir-rdf/issues",
				specStatus: "unofficial",
				shortName:  "fhir-rdf",
				editors: [
					{
						name:       "Anthony Mallia",
						url:        "amallia@edmondsci.com",
						company:    "Edmond Scientific",
						companyURL: "http://edmondsci.com/"
					},
					{
						name:       "Eric Prud'hommeaux",
						url:        "http://www.w3.org/People/Eric/",
						company:    "W3C/MIT",
						companyURL: "http://www.w3.org/"
					}
				],
				wg:           "Semantic Web in Health Care and Life Sciences Interest Group",
				wgURI:        "//www.w3.org/wiki/HCLSIG",
				wgPublicList: "public-semweb-lifesci",
				wgPatentURI:  "http://www.w3.org/2004/01/pp-impl/73865/status",
        otherLinks: [{
          key: "Source code for this document",
          data: [{
              value: "GitHub repository -- see spec/rdf.html",
              href: "https://github.com/w3c/hcls-fhir-rdf"
          }, {
              value: "Issues list",
              href: "https://github.com/w3c/hcls-fhir-rdf/issues"
          }]
          }]
			};
		</script>
		<!-- script src="https://www.w3.org/scripts/jquery/2.1/jquery.min.js"></script--> 
		<style>
      .special { color: red; }
      .inferred { color: green; }
      pre.FHIRXML {
        font-size: 8pt;
        line-height: 100%;
        text-align: left ! important;
        font-family: Consolas;
        writing-mode: lr-tb;
        background-color: #f2f2f2;
        padding-left: 0.0555in;
        padding-right: 0.0555in;
        border-width: 0.018cm;
        border-style: solid;
        border-color: #00000a;
        color: #000000;
        padding-bottom: 0in;
        padding-top: 0in;
      border-top-style: none;    
      border-bottom-style: none; 
      }
      pre.FHIRRDF {
        font-size: 8pt;
        line-height: 100%;
        text-align: left ! important;
        font-family: Consolas;
        writing-mode: lr-tb;
        background-color: #e4fff2;
        padding-left: 0.0555in;
        padding-right: 0.0555in;
        border-width: 0.018cm;
        border-style: solid;
        border-color: #00000a;
        color: #000000;
        padding-bottom: 0in;
        padding-top: 0in;
      border-top-style: none;    
      border-bottom-style: none; 
      }
      pre.FHIRShEx {
        font-size: 8pt;
        line-height: 100%;
        text-align: left ! important;
        font-family: Consolas;
        writing-mode: lr-tb;
        background-color: #fffda0;
        padding-left: 0.0555in;
        padding-right: 0.0555in;
        border-width: 0.018cm;
        border-style: solid;
        border-color: #00000a;
        color: #000000;
        padding-bottom: 0in;
        padding-top: 0in;
      border-top-style: none;    
      border-bottom-style: none; 
      }
      .ul {
        text-decoration: underline;
      }
      span.code {
        background-color: #f2f2f2;
        border-style: solid;
        border-top-style: none;
        border-bottom-style: none;
        border-left-style: .1em;
        border-right-style: thin;
      }
      .Table1 td {
          padding-left: 0.075in;
          padding-right: 0.075in;
          padding-top: 0in;
          padding-bottom: 0in;
          border-style: none;
      }
pre.spec {
    border: 1px solid #dcdcdc;
    font-size: 11px;
    background: #FFFFE0;
    padding: 5px;
    width: 650px;
    white-space: pre-wrap;
}
.spec a.dict { color: purple; }
pre.spec a {
    color: darkgreen;
    text-decoration: none;
    border: 0;
}
pre.spec a:hover, a:focus {
    color: #2a6496;
    text-decoration: underline;
}
.description { color: navy; }
.description a { color: navy; }
pre.spec .description a { color: navy; } /* override pre.spec a */
.Table1 pre.spec {
    border-top-style: none;
    border-bottom-style: none;
    padding-top: 0;
    padding-bottom: 0;
    margin-top: 0;
    margin-bottom: 0;
}
.greyback { background-color: #C0C0C0; }
.scalar { color: #2A00FF; }
img.scaled {
    display: block;
    max-width:90%;
    max-height:90%;
    width: auto;
    height: auto;
}
.todo { color:red; border: thin solid red; }
.todo:before { content: "TODO" }
.contentious { color: red; }

.shared { border-left: solid thick #909; padding-left: .5em; }

      .constant {
        /* font-lock-constant-face */
        color: #008b8b;
      }
      .keyword {
        /* font-lock-keyword-face */
        color: #a020f0;
      }
      .type {
        /* font-lock-type-face */
        color: #228b22;
      }
      .variable-name {
        /* font-lock-variable-name-face */
        color: #a0522d;
      }
		</style>
	</head>
	<body>

		<section id="abstract">
			<p>
        This document describes the RDF representation of FHIR Resources.
			</p>
		</section>

		<section id="sotd"><!-- filled in automagically --></section>

		<section class='introductory'>
		  <h2>Revision History</h2>
			<p>
				The detailed list of changes and their diffs can be found in the <a href="https://github.com/w3c/hcls-fhir-rdf/commits/gh-pages/spec/index.html">Git repository</a>.
			</p>
			<ul>
				<li><b>2016-02-09</b>: Created this page as a copy of the side-by-side document (dbooth)</li>
			</ul>
		</section>

		<section id="legend" class="introductory">
      <h2>Legend</h2>
      <p class="Standard">Most of the RDF is generated by verbatim logic (e.g. An unidentified element becomes an anonymous individual - &nbsp;blank node).</p>
      <p class="Standard">Where RDF is generated by special transformation it is <span class="special">marked in red</span></p>
      <p class="Standard">Where RDF is inferred by a reasoner it is <span class="inferred">marked in green</span>. </p>
		</section>

		<section id="DefaultMapping">
      <h2>Default Mapping</h2>
      <p class="shared">
        In general the mapping between types, elements in XML and Classes, individuals in RDF is generally the same.
        This section defines that default mapping and other section describe deviations from the default mapping.
      </p>
		  <section id="InstanceMapping">
        <h2>Instance Mapping</h2>
        <p>
          In XML the element instances are nested using tags.
        </p>
		    <section id="Element">
          <h2>Element</h2>
          <p>
            An XML element corresponds to a RDF/OWL individual.
            In many cases unless the element has identity the mapping is to an anonymous individual.
            Where identity has been given to the element then it maps to a anamed individual.
          </p>
		    </section>
		    <section id="XMLTag">
          <h2>XML Tag</h2>
          <p>
            The XML tag is mapped to an Object Property Assertion of the Object Property defined for the tag name.
          </p>
		    </section>
		    <section id="XMLAttribute">
          <h2>XML Attribute</h2>
          <p class="shared">
            An XML attribute represents a simple type and in FHIR is always “value”.
            FHIR datatypes have attributes of XSD datatypes.
          </p>
          <p class="shared">
            <span class="code">  fhir:CodingBase.display [ <span class="inferred">a fhir:string</span>; fhir:value "Admin"] ;</span><br/>
            Shows an anonymous individual in [] of datatype fhir:string with value data property “Admin”.
          </p>
		    </section>
		  </section>
      <section id="DefaultTypeMapping">
          <section id="NestedElements">
          	<h2>Nested Elements</h2>
          <p class="shared">
            An XML tag is unique within the namespace that it is declared in.
            FHIR does not use global declarations.
            The XML tag is mapped to an Object Property where the name is prefixed with the Class name in which it was declared.
            A tag “bar” declared in a complex type “Foo” would become an Object Property “Foo.bar”.
            This is aligned with the structural definition mechanism in FHIR.
          </p>
		    </section>
		    <section>
          <h2>Datatypes</h2>
          <p class="shared">
            In RDF the value attribute of a datatype is a Data Property named “value” with undefined range.
            Each FHIR data type has a restriction on the range of the Data Property (see section on Datatypes).
          </p>
		    </section>
		  </section>
		    <h2>Message and Resource identity</h2>
		  <section>
        <h2>XML Identity</h2>
		    <section>
          <h2>XML Identity</h2>
          <p>
            The read RESTful interaction
          </p>
          <p>
            <span class="code">  fhir:CodingBase.display [ <span class="inferred">a fhir:string</span>; fhir:value "Admin"] ;</span><br/>
            Causes a return of the mime type file which has an identity of [base]/[type]/[id].[mime-type].
            These four parts form the dereferenceable URI and the identity of that file.
          </p>
		    </section>
		    <section>
          <h2>XML Resource identity</h2>
          <p>
            The XML Root tag binds the root element to a Complex Type.
            In FHIR the tag and the Complex Type have the same value however this is not always true in XML.
          </p>
          <pre class="FHIRXML">
&lt;<span class="greyback">AllergyIntolerance</span> xmlns=http://hl7.org/fhir &gt;
  &lt;id value="1"/&gt;
  &lt;text&gt;
  &lt;/text&gt;
&lt;!--   the date that this entry was recorded   --&gt;
  &lt;recordedDate value="2010-03-01"/&gt;
&lt;!--   the patient that actually has the risk of adverse reaction   --&gt;
  &lt;patient&gt;
    &lt;reference value="http://record/Patient/PeterPatient"/&gt;
    &lt;display value="Peter Patient"/&gt;
  &lt;/patient&gt;
&lt;!--   substance, coded from SNOMED CT--&gt;
  &lt;substance&gt;
    &lt;coding&gt;
      &lt;system value="http://snomed.info/id/"/&gt;
      &lt;code value="90614001"/&gt;
      &lt;display value="beta-Lactam antibiotic"/&gt;
    &lt;/coding&gt;
  &lt;/substance&gt;
  &lt;status value="confirmed"/&gt;
  &lt;criticality value="high"/&gt;
  &lt;category value="medication"/&gt;
&lt;/AllergyIntolerance&gt;
          </pre>
          <p>
            The id value represents only a segment of the identifier.
            The type is taken from the root element and the base is not included in the Resource so it is not clear in FHIR that the Resource can be clearly disambiguated.
          </p>
		    </section>
		  </section>
		  <section>
        <h2>RDF/OWL identities</h2>
        <pre class="FHIRRDF">
@prefix owl: &lt;http://www.w3.org/2002/07/owl#&gt; .
@prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
@prefix xml: &lt;http://www.w3.org/XML/1998/namespace&gt; .
@prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; .
@prefix fhir: &lt;http://hl7.org/fhir/&gt; .
@prefix rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt; .
&lt;http://record/AllergyIntolerance/1&gt; rdf:type owl:Ontology ; owl:imports &lt;http://hl7.org/fhir&gt; .
&lt;http://record/AllergyIntolerance/1&gt; rdf:type &lt;http://PatientSafetyProfile/AllergyIntolerance&gt; , owl:NamedIndividual ;
   fhir:Resource.id [ rdf:type fhir:id ; fhir:value "1" ] ;
   fhir:AllergyIntolerance.status [ rdf:type fhir:code ;
      fhir:ConceptBase.coding [ fhir:CodingBase.code [ fhir:value "confirmed" ]  ]
   ] ;
   fhir:AllergyIntolerance.patient [ rdf:type fhir:Reference ;
      fhir:Reference.reference [ fhir:value "http://record/Patient/PeterPatient" ] ;
      fhir:Reference.display [ fhir:value "Peter Patient" ] ;
   ] ;
   fhir:AllergyIntolerance.substance [ rdf:type fhir:CodeableConcept , &lt;http://snomed.info/id/90614001&gt;;
      fhir:ConceptBase.coding [ rdf:type fhir:CodingBase ;
         fhir:CodingBase.code [ rdf:type fhir:codeBase ; fhir:value "90614001" ] ;
         fhir:CodingBase.system [ rdf:type fhir:uri ; fhir:value "http://snomed.info/sct" ] ;
         fhir:CodingBase.display [ rdf:type fhir:string ; fhir:value "beta-lactam (antibiotic)" ]
      ] ;
      fhir:ConceptBase.text [ rdf:type fhir:string ; fhir:value "beta-lactam (antibiotic)" ]
   ] .        </pre>

		    <section>
          <h2>RDF File identity</h2>
          <p>
            The identity of the RDF file is its file name (e.g. http://record/AllergyIntolerance/1.ttl)
          </p>

          <p>
            The first three segment (without the mime-type) are the name of the Ontology.
          </p>

          <p>
            <span class="code">&lt;http://record/AllergyIntolerance/1&gt; rdf:type owl:Ontology ;</span><br/>
            The file is an ontology.
            This is required since there appears to be a restriction on import statements importing the same ontology more than once.
            This is independent of prefixes of the elements.
          </p>
		    </section>
		    <section>
          <h2>RDF Individual identity</h2>
          <p>
            The name of the individual is derived from the URL identity of the resource.
            The class of the individual is declared using rdf:type:<br/>
            <span class="code">&lt;http://record/AllergyIntolerance/1&gt; rdf:type &lt;http://PatientSafetyProfile/AllergyIntolerance&gt;, owl:NamedIndividual ;</span><br/>
            In simple resources the identity of the message is mapped to the identity of the root element.
            However they may have different types.
          </p>
          <p>
            In this case the name of the individual is the same as the name of the ontology.
            This appears to work.
          </p>
          <p>
            In Bundles the identity of the message (bundle) is different from the identities of contained resources.
          </p>

          <p>
Note that the type of the resource is qualified by the profile which is obtained from Meta.profile (see Profile section later).
          </p>
		    </section>
		    <section>
          <h2> Ontology triples</h2>
          <p>
            The ontology identity is linked to the import predicate which links to the fhir ontology:<br/>
            <span class="code">&lt;http://record/AllergyIntolerance/1&gt; rdf:type owl:Ontology ; owl:imports &lt;http://hl7.org/fhir&gt; .</span><br/>
            The import statement is required for Turtle files so that the loading can distinguish between Object Properties and Annotation Properties.
          </p>
		    </section>
		  </section>
		</section>

		<section>
      <h2> Datatypes (section 1.18.0.1)</h2>
      <p class="shared">
        Difference in the treatment of datatypes code, string and uri as classes with primitive values as rdf:Datatypes.
        Datatypes are transformed into OWL Classes where the value is expressed as a an OWL DataProperty with restrictions (facets etc).
      </p>
		    <section>
        		<h2>FHIR CodeableConcept and Coding Structure Definition</h2>
		    <section>
          <h2>FHIR XML</h2>
          <p class="shared">
            Codeable Concept example
          </p>
          <pre class="FHIRXML">
  &lt;substance&gt;
    &lt;coding&gt;
      &lt;system value="http://snomed.info/sct"/&gt;
      &lt;code value="90614001"/&gt;
      &lt;display value=" beta-lactam (antibiotic)"/&gt;
    &lt;/coding&gt;
    &lt;text value=" beta-lactam (antibiotic)"/&gt;
  &lt;/substance&gt;
          </pre>
          	  <h2>RDF Data for Codeable Concept Instance</h2>
          <p class="shared">
            The RDF variant for fhir:Code, fhir:Coding and fhir:CodeableConcept are not straight translations of the FHIR representation.
            3 new additional classes are introduced – codeBase, CodingBase and ConceptBase. 
          </p>
          <pre class="FHIRRDF shared">
   fhir:AllergyIntolerance.substance [ a fhir:CodeableConcept ;
      fhir:ConceptBase.coding [ a fhir:CodingBase ;
         fhir:CodingBase.code [ a fhir:codeBase ; fhir:value "90614001" ] ;
         fhir:CodingBase.system [ a fhir:uri ; fhir:value "http://snomed.info/sct" ] ;
         fhir:CodingBase.display [ a fhir:string ; fhir:value "beta-lactam (antibiotic)" ]
      ] ;
      fhir:ConceptBase.text [ a fhir:string ; fhir:value "beta-lactam (antibiotic)" ]
   ] .
          </pre>
    <pre class="FHIRShEx">
   <span class="variable-name">&lt;CodeableConceptShape&gt;</span> {
    <span class="keyword">a</span> [<span class="type">fhir:</span><span class="constant">CodeableConcept</span>]<span class="keyword">?</span>,
    <span class="type">fhir:</span><span class="constant">ConceptBase.coding</span> <span class="variable-name">@&lt;CodingShape&gt;</span><span class="keyword">?</span>,
    <span class="type">fhir:</span><span class="constant">ConceptBase.text</span> <span class="variable-name">@&lt;textShape&gt;</span><span class="keyword">?</span>
  }
  <span class="type">&lt;codingShape&gt;</span> {
    <span class="keyword">a</span> [<span class="type">fhir:</span><span class="constant">CodingBase</span>]<span class="keyword">?</span>,
    <span class="type">fhir:</span><span class="constant">CodingBase.code</span> { <span class="keyword">a</span> [<span class="type">fhir:</span><span class="constant">codeBase</span>]<span class="keyword">?</span>, <span class="type">fhir:</span><span class="constant">value</span> <span class="keyword">LITERAL</span> }<span class="keyword">?</span>,
    <span class="type">fhir:</span><span class="constant">CodingBase.system</span> { <span class="keyword">a</span> [<span class="type">fhir:</span><span class="constant">uri</span>]<span class="keyword">?</span>, <span class="type">fhir:</span><span class="constant">value</span> <span class="keyword">LITERAL</span> }<span class="keyword">?</span>,
    <span class="type">fhir:</span><span class="constant">CodingBase.display</span> { <span class="keyword">a</span> [<span class="type">fhir:</span><span class="constant">string</span>]<span class="keyword">?</span>, <span class="type">fhir:</span><span class="constant">value</span> <span class="keyword">LITERAL</span> }<span class="keyword">?</span>
  }
  <span class="variable-name">&lt;textShape&gt;</span> {
    <span class="keyword">a</span> [<span class="type">fhir:</span><span class="constant">string</span>]<span class="keyword">?</span>,
    <span class="type">fhir:</span><span class="constant">value</span> <span class="keyword">LITERAL</span>
  }</pre>
          <p class="shared">
            The fhir:CodeableConcept type assertion allows round trip back to the original XML type.
            The same approach will be taken for fhir:Coding and fhir:code.
          </p>

          <p class="shared">
          This approach will be implemented by creating ConceptBase, CodingBase and codeBase individuals as blank nodes.
          </p>
		    </section>
		    <section>
          	  <pre class="FHIRRDF">
     </pre>
		    </section>
		  </section>
		</section>

		<section id="Terminology" class="todo">
      <h2>Terminology</h2>
      <section id="Codesystem">
        <h2>Code system</h2>
        <section id="HL7FHIRInternalCodeSystemXMLexample">
          <h2>HL7 FHIR Internal Code System XML example</h2>
        </section>
        <section id="RDFCodeSystemURIdeclaration">
          <h2>RDF CodeSystemURI declaration</h2>
          <section id="HL7InternalCodesystemURIexample">
            <h2>HL7 Internal Code system URI example</h2>
          </section>
          <section id="SNOMEDRDFCodeSystemURIexample">
            <h2>SNOMED RDF Code System URI example</h2>
          </section>
          <section id="CodeSystemVersion">
            <h2>Code System Version</h2>
          </section>
        </section>
      </section>
      <section id="BridgingOntologies">
        <h2>Bridging Ontologies</h2>
      </section>
      <section id="Concept">
        <h2>Concept</h2>
        <section id="RDFConceptDefinition">
          <h2>RDF Concept Definition</h2>
        </section>
        <section id="HL7BridgingOntology">
          <h2>HL7 Bridging Ontology</h2>
          <section id="HL7FHIRXMLConcept">
            <h2>HL7 FHIR XML Concept</h2>
          </section>
          <section id="FHIRinternalXMLConceptmapping">
            <h2>FHIR internal XML Concept mapping</h2>
          </section>
          <section id="HL7InternalConceptRDFExample">
            <h2>HL7 Internal Concept RDF Example</h2>
          </section>
          <section id="ExternalConceptRDFExample">
            <h2>External Concept RDF Example</h2>
            <section id="ExternalSNOMEDOntology">
              <h2>External SNOMED Ontology</h2>
            </section>
            <section id="BridgingOntology">
              <h2>Bridging Ontology</h2>
            </section>
          </section>
        </section>
        <section id="RelationshipofConcepttoCodeSystemURI">
          <h2>Relationship of Concept to Code SystemURI</h2>
        </section>
      </section>
      <section id="ValueSets">
        <h2>ValueSets</h2>
        <section id="CodingBindingtoexternalterminology">
          <h2>Coding Binding to external terminology (section 1.17.3.3.5)</h2>
          <section id="FHIRXML">
            <h2>FHIR XML</h2>
          </section>
          <section id="RDFInstanceExample">
            <h2>RDF Instance Example</h2>
          </section>
        </section>
        <section id="OWLRecordbindingDefinition">
          <h2>OWL Record binding Definition</h2>
          <section id="AllergyIntoleranceClass">
            <h2>Allergy Intolerance Class</h2>
          </section>
        </section>
        <section id="FHIRXMLvaluesetdefinition">
          <h2>FHIR XML value set definition</h2>
          <section id="AllergyIntoleranceStatusStructuralDefinition">
            <h2>Allergy Intolerance Status Structural Definition</h2>
          </section>
          <section id="AllergyIntolerance.substanceStructuralDefinition">
            <h2>AllergyIntolerance.substance Structural Definition</h2>
          </section>
          <section id="AllergyIntolerance.statusObjectPropertydefinition">
            <h2>AllergyIntolerance.status Object Property definition</h2>
          </section>
          <section id="AllergyIntolerance.substanceObjectProperty">
            <h2>AllergyIntolerance.substance Object Property</h2>
          </section>
        </section>
        <section id="ApproachtoConformance">
          <h2>Approach to Conformance</h2>
        </section>
        <section id="HL7InternalConceptRDFExample">
          <h2>HL7 Internal Concept RDF Example</h2>
          <section id="CodeSystemandConceptXML">
            <h2>CodeSystem and Concept XML</h2>
          </section>
          <section id="RDFDirectRestriction">
            <h2>RDF Direct Restriction</h2>
          </section>
          <section id="RDFAlignedValueSetofCodingBasetoConcept">
            <h2>RDF Aligned ValueSet of CodingBase to Concept (B)</h2>
          </section>
        </section>
        <section id="ExternalterminologyValueSets">
          <h2>External terminology ValueSets</h2>
          <section id="Allcodesfrom">
            <h2>All codes from</h2>
          </section>
          <section id="ValueSetResourceexampleinXML">
            <h2>ValueSet Resource example in XML</h2>
          </section>
          <section id="RDFCodingBaseDirectRestriction">
            <h2>RDF CodingBase Direct Restriction (A)</h2>
          </section>
          <section id="RDFValueSetbindingtoConcepts">
            <h2>RDF ValueSet binding to Concepts(B)</h2>
          </section>
          <section id="FHIRAllergyIntoleranceOWLSchema">
            <h2>FHIR Allergy Intolerance OWL Schema</h2>
          </section>
        </section>
        <section id="DefinitionsofCodeSystemConcept">
          <h2>Definitions of Code System, Concept</h2>
          <section id="CodeSystem">
            <h2>Code System</h2>
          </section>
        </section>
        <section id="Concept">
          <h2>Concept</h2>
          <section id="ValueSet">
            <h2>ValueSet</h2>
            <section id="Summary">
              <h2>Summary</h2>
            </section>
            <section id="ContentLogicalDefinition">
              <h2>Content Logical Definition</h2>
            </section>
            <section id="RDFDefinition">
              <h2>RDF Definition</h2>
            </section>
            <section id="Examples">
              <h2>Examples</h2>
              <section id="ValueSetschemainFHIR">
                <h2>ValueSet schema in FHIR</h2>
              </section>
            </section>
          </section>
          <section id="FHIRinternalSystemandCodingbindings">
            <h2>FHIR internal System and Coding bindings (OWL Schema)</h2>
          </section>
          <section id="SystemandcodingsexternalRDFrepresentation">
            <h2>System and codings external RDF representation</h2>
          </section>
          <section id="ValuesetDefinition">
            <h2>Valueset Definition</h2>
              <section id="Anonymouscodings">
                <h2>Anonymous codings</h2>
              </section>
            <section id="Namedcodings">
              <h2>Named codings</h2>
            </section>
          </section>
          <section id="ValueSetschemainthemetamodel">
            <h2>ValueSet schema in the metamodel</h2>
          </section>
          <section id="RestrictionequivalentstoComposeElements">
            <h2>Restriction equivalents to Compose Elements</h2>
            <section id="Import">
              <h2>Import</h2>
            </section>
            <section id="CodeSystem_Concepts">
              <h2>CodeSystem – Concepts</h2>
            </section>
            <section id="Filter">
              <h2>Filter</h2>
            </section>
            <section id="Is_a_bysubsumption">
              <h2>Is-a – by subsumption</h2>
              <section id="XMLexample">
                <h2>XML example</h2>
              </section>
              <section id="ComposeIncludeis-aConcept">
                <h2>Compose Include is-a Concept</h2>
              </section>
            </section>
            <section id="Exclude">
              <h2>Exclude</h2>
              <section id="XMLExample">
                <h2>XML Example</h2>
              </section>
              <section id="ComposeExcludeis-aConcept">
                <h2>Compose Exclude is-a Concept</h2>
              </section>
            </section>
            <section id="EqualsandIn">
              <h2>Equals and In</h2>
              <section id="XMLExample">
                <h2>XML Example</h2>
              </section>
              <section id="FilterRDFExpression">
                <h2>Filter RDF Expression</h2>
              </section>
              <section id="TheRDFValueSet">
                <h2>The RDF ValueSet</h2>
              </section>
            </section>
          </section>
        </section>
      </section>
		</section>

		<section>
      <h2>Resource References</h2>
		  <section>
        <h2>FHIR XML</h2>
        <div class="todo">
        <pre class="FHIRXML">
 &lt; <span class="greyback">AllergyIntolerance</span> xmlns="http://hl7.org/fhir" &gt;
  &lt; id value="1" /&gt;
  &lt; text &gt;
   
  &lt;/ text &gt;
&lt;!--   the date that this entry was recorded   --&gt;
  &lt; recordedDate value="2010-03-01" /&gt;
&lt;!--   the patient that actually has the risk of adverse reaction   --&gt;
  &lt; patient &gt;
    &lt; reference value = "http://record/Patient/PeterPatient" /&gt;
    &lt; display value = "Peter Patient" /&gt;
  &lt;/ patient &gt;
&lt;/ <span class="greyback">AllergyIntolerance</span> &gt; 
        </pre>
        </div>
		  </section>
		  <section>
        <h2>RDF Data After processing (acquiring the resource and importing)</h2>
        <pre class="FHIRRDF">
fhir:AllergyIntolerance.patient [ fhir:Reference.display [ fhir:value "Peter Patient" ] ;
                                fhir:Reference.reference [ fhir:value "http://record/Patient/PeterPatient" ] ;
                                <span class="contentious">fhir:Reference.link &lt;http://record/Patient/PeterPatient&gt;</span>
                               ] ; 
        </pre>
        <p>
          Note that Reference object has been supplemented by the URI of the Reference.link.
        </p>
        <p>
          AllergyIntolerance.patient.link can represent the property chain as shown earlier.
          A reverse property of the property chain can get the resources for a particular patient.
        </p>
        <pre class="FHIRRDF">
###  http://hl7.org/fhir/AllergyForPatient
fhir:AllergyForPatient rdf:type owl:ObjectProperty ;
                       owl:inverseOf fhir:AllergyIntolerance.patient.link .
###  http://hl7.org/fhir/AllergyIntolerance.patient.link
fhir:AllergyIntolerance.patient.link rdf:type owl:ObjectProperty ;
                       owl:propertyChainAxiom ( fhir:AllergyIntolerance.patient fhir:Reference.link ) .
        </pre>
        <p>
          The Reference.link is declared when the resource has been imported and closure has been achieved.
          This allows the consumer to determine whether the import has happened or not and can trigger that function.
          If the Reference.link is pre-established there will be no indication in the import and the Resource instance will be empty.
        </p>
		  </section>
		    <h2>Containment</h2>
      <p class="shared">
        Containment is where a resource or container contains other resources.
      </p>
      <p class="shared">
        It applies to Bundle, Contained and Parameters.
      </p>
		  <section>
        <h2>Bundle</h2>
        <p class="shared">
          One common operation performed with resources is to gather a collection of resources into a single instance with containing context.
          In FHIR this is referred to as "bundling" the resources together. These resource bundles are useful for a variety of different reasons, including: 
        </p>
        <ul class="shared">
          <li>Returning a set of resources that meet some criteria as part of a server operation (see <a href="http://hl7-fhir.github.io/http.html#search">RESTful Search</a>)</li>
          <li>Returning a set of versions of resources as part of the history operation on a server (see <a href="http://hl7-fhir.github.io/http.html#history">History</a>)</li>
          <li>Sending a set of resources as part of a message exchange (see <a href="http://hl7-fhir.github.io/messaging.html">Messaging</a>)</li>
          <li>Grouping a self-contained set of resources to act as an exchangeable and persistable collection with clinical integrity - e.g. a clinical document (see <a href="http://hl7-fhir.github.io/documents.html">Documents</a>)</li>
          <li>Creating/updating/deleting a set of resources on a server as a single operation (including doing so as a single atomic transaction) (see <a href="http://hl7-fhir.github.io/http.html#transaction">Transactions</a>)</li>
          <li>Storing a collection of resources</li>
        </ul>
		    <section class="shared">
          <h2>Bundle XML instance</h2>
          <pre class="FHIRXML">
&lt;Bundle xmlns="http://hl7.org/fhir"&gt;
  &lt;id value="bundle-example"/&gt;&lt;!--   this example bundle is a search set   --&gt;
  &lt;meta&gt;
    &lt;lastUpdated value="2014-08-18T01:43:30Z"/&gt;
  &lt;/meta&gt;&lt;!--   when the search was executed   --&gt;
  &lt;type value="searchset"/&gt;&lt;!--   the base URL of the server is responding to the search   --&gt;
  &lt;base value="http://example.com/base"/&gt;&lt;!--   the total number of matches. This is a stupid example - there's a grand total of 3 matches, and we're only going to return the first 1, with a next link, in order to demonstrate what a page link looks like   --&gt;
  &lt;total value="3"/&gt;
  &lt;link&gt;
    &lt;relation value="self"/&gt;
    &lt;url value="https://example.com/base/MedicationPrescription?patient=347&amp;amp;_include=MedicationPrescription.medication"/&gt;
  &lt;/link&gt;&lt;!--   now, the link to the next set of results.
  Note that a big set of results will include prev, first, last links as well as next   --&gt;
  &lt;link&gt;
    &lt;relation value="next"/&gt;
    &lt;url value="https://example.com/base/MedicationPrescription?patient=347&amp;amp;searchId=ff15fd40-ff71-4b48-b366-09c706bed9d0&amp;amp;page=2"/&gt;
  &lt;/link&gt;&lt;!--   now, the actual entries   --&gt;
  &lt;entry&gt;
    &lt;resource&gt;
      &lt;MedicationPrescription&gt;&lt;!--   the matching resource   --&gt;
        &lt;id value="3123"/&gt;
        &lt;text&gt;
          Omitted
        &lt;/text&gt;
        &lt;patient&gt;
          &lt;reference value="Patient/347"/&gt;
        &lt;/patient&gt;
        &lt;medication&gt;
          &lt;reference value="Medication/example"/&gt;
        &lt;/medication&gt;
      &lt;/MedicationPrescription&gt;
    &lt;/resource&gt;
    &lt;search&gt;&lt;!--   this resource included as a match to the search criteria. Servers are not required to populate this, but should, because there are a few cases where it might be ambiguous whether a resource is added because it's a match or an include  --&gt;
      &lt;mode value="match"/&gt;&lt;!--   score. For matches where the criteria are not determinate,
        e.g. text search on narrative, the server can include a score to indicate
        how well the resource matches the conditions. Since this search is by patient
        identifier, there's nothing fuzzy about it, but for example purposes:   --&gt;
      &lt;score value="1"/&gt;
    &lt;/search&gt;
  &lt;/entry&gt;
  &lt;entry&gt;
    &lt;resource&gt;
      &lt;Medication&gt;
        &lt;id value="example"/&gt;
        &lt;text&gt;
        &lt;/text&gt;
      &lt;/Medication&gt;
    &lt;/resource&gt;&lt;!--   snip   --&gt;
    &lt;search&gt;&lt;!--   added because the client asked to include the medications   --&gt;
      &lt;mode value="include"/&gt;
    &lt;/search&gt;
  &lt;/entry&gt;
&lt;/Bundle&gt;
          </pre>
		    </section>
		    <section class="shared">
          <h2>Bundle XML content description</h2>
          <pre class="spec">
&lt; <a href="http://hl7-fhir.github.io/bundle-definitions.html#Bundle" title="A container for a collection of resources." class="dict"><b>Bundle</b></a> xmlns="http://hl7.org/fhir"&gt; <span style="float: right"><a href="http://hl7-fhir.github.io/xml.html" title="Documentation for this format"><img src="http://hl7-fhir.github.io/help.png" alt="doco" /></a></span>
 &lt;!-- from <a href="http://hl7-fhir.github.io/resource.html">Resource</a>: <a href="http://hl7-fhir.github.io/resource.html#id">id</a>, <a href="http://hl7-fhir.github.io/resource.html#meta">meta</a>, <a href="http://hl7-fhir.github.io/resource.html#implicitRules">implicitRules</a>, and <a href="http://hl7-fhir.github.io/resource.html#language">language</a> --&gt;
 &lt;<a href="http://hl7-fhir.github.io/bundle-definitions.html#Bundle.type" title="Indicates the purpose of this bundle- how it was intended to be used." class="dict"><b>type</b></a> value="[<span style="color: darkgreen"><a href="http://hl7-fhir.github.io/datatypes.html#code">code</a></span>]"/&gt;<span style="color: Gray">&lt;!--</span> <span style="color: brown"><b>1..1</b></span> <span style="color: navy"><a style="color: navy" href="http://hl7-fhir.github.io/valueset-bundle-type.html">document | message | transaction | transaction-response | batch | batch-response | history | searchset | collection</a></span><span style="color: Gray"> --&gt;</span>
 &lt;<a href="http://hl7-fhir.github.io/bundle-definitions.html#Bundle.total" title="If a set of search matches, this is the total number of matches for the search (as opposed to the number of results in this bundle)." class="dict"><b>total</b></a> value="[<span style="color: darkgreen"><a href="http://hl7-fhir.github.io/datatypes.html#unsignedInt">unsignedInt</a></span>]"/&gt;<span style="color: Gray">&lt;!--</span> <span style="color: brown" title="bdl-1: total only when a search or history"><b><img src="http://hl7-fhir.github.io/lock.png" alt="??" /> 0..1</b></span> <span style="color: navy"><a style="color: navy" href="http://hl7-fhir.github.io/terminologies.html#unbound">If search, the total number of matches</a></span><span style="color: Gray"> --&gt;</span>
 &lt;<a href="http://hl7-fhir.github.io/bundle-definitions.html#Bundle.link" title="A series of links that provide context to this bundle." class="dict"><b>link</b></a>&gt;  <span style="color: Gray">&lt;!-- <span style="color: brown"><b>0..*</b></span> Links related to this Bundle --&gt;</span>
  &lt;<a href="http://hl7-fhir.github.io/bundle-definitions.html#Bundle.link.relation" title="A name which details the functional use for this link - see [[http://www.iana.org/assignments/link-relations/link-relations.xhtml]]." class="dict"><b>relation</b></a> value="[<span style="color: darkgreen"><a href="http://hl7-fhir.github.io/datatypes.html#string">string</a></span>]"/&gt;<span style="color: Gray">&lt;!--</span> <span style="color: brown"><b>1..1</b></span> <span style="color: navy"><a style="color: navy" href="http://hl7-fhir.github.io/terminologies.html#unbound">http://www.iana.org/assignments/link-relations/link-relations.xhtml</a></span><span style="color: Gray"> --&gt;</span>
  &lt;<a href="http://hl7-fhir.github.io/bundle-definitions.html#Bundle.link.url" title="The reference details for the link." class="dict"><b>url</b></a> value="[<span style="color: darkgreen"><a href="http://hl7-fhir.github.io/datatypes.html#uri">uri</a></span>]"/&gt;<span style="color: Gray">&lt;!--</span> <span style="color: brown"><b>1..1</b></span> <span style="color: navy"><a style="color: navy" href="http://hl7-fhir.github.io/terminologies.html#unbound">Reference details for the link</a></span><span style="color: Gray"> --&gt;</span>
 &lt;/link&gt;
 &lt;<a href="http://hl7-fhir.github.io/bundle-definitions.html#Bundle.entry" title="An entry in a bundle resource - will either contain a resource, or information about a resource (transactions and history only)." class="dict"><b>entry</b></a>&gt;  <span style="color: Gray">&lt;!-- <span style="color: brown"><b>0..*</b></span> Entry in the bundle - will have a resource, or information --&gt;</span>
  &lt;<a href="http://hl7-fhir.github.io/bundle-definitions.html#Bundle.entry.link" title="A series of links that provide context to this entry." class="dict"><b>link</b></a>&gt;<span style="color: Gray">&lt;!--</span> <span style="color: brown"><b>0..*</b></span> <span style="color: darkgreen">Content as for Bundle.link</span> <span style="color: navy"><a style="color: navy" href="http://hl7-fhir.github.io/terminologies.html#unbound">Links related to this entry</a></span><span style="color: Gray"> --&gt;</span>&lt;/link&gt;
  &lt;<a href="http://hl7-fhir.github.io/bundle-definitions.html#Bundle.entry.fullUrl" title="The Absolute URL for the resource. This must be provided for all resources. The fullUrl SHALL not disagree with the id in the resource. The fullUrl is a version independent reference to the resource." class="dict"><b>fullUrl</b></a> value="[<span style="color: darkgreen"><a href="http://hl7-fhir.github.io/datatypes.html#uri">uri</a></span>]"/&gt;<span style="color: Gray">&lt;!--</span> <span style="color: brown"><b>0..1</b></span> <span style="color: navy"><a style="color: navy" href="http://hl7-fhir.github.io/terminologies.html#unbound">Absolute URL for resource (server address, or UUID/OID)</a></span><span style="color: Gray"> --&gt;</span>
  &lt;<a href="http://hl7-fhir.github.io/bundle-definitions.html#Bundle.entry.resource" title="The Resources for the entry." class="dict"><b>resource</b></a>&gt;<span style="color: Gray">&lt;!--</span> <span style="color: brown"><b>0..1</b></span> <span style="color: darkgreen"><a href="http://hl7-fhir.github.io/resource.html#Resource">Resource</a></span> <span style="color: navy"><a style="color: navy" href="http://hl7-fhir.github.io/terminologies.html#unbound">A resource in the bundle</a></span><span style="color: Gray"> --&gt;</span>&lt;/resource&gt;
  &lt;<a href="http://hl7-fhir.github.io/bundle-definitions.html#Bundle.entry.search" title="Information about the search process that lead to the creation of this entry." class="dict"><b>search</b></a>&gt;  <span style="color: Gray">&lt;!-- <span style="color: brown" title="bdl-2: entry.search only when a search"><b><img src="http://hl7-fhir.github.io/lock.png" alt="??" /> 0..1</b></span> Search related information --&gt;</span>
   &lt;<a href="http://hl7-fhir.github.io/bundle-definitions.html#Bundle.entry.search.mode" title="Why this entry is in the result set - whether it's included as a match or because of an _include requirement." class="dict"><b>mode</b></a> value="[<span style="color: darkgreen"><a href="http://hl7-fhir.github.io/datatypes.html#code">code</a></span>]"/&gt;<span style="color: Gray">&lt;!--</span> <span style="color: brown"><b>0..1</b></span> <span style="color: navy"><a style="color: navy" href="http://hl7-fhir.github.io/valueset-search-entry-mode.html">match | include | outcome - why this is in the result set</a></span><span style="color: Gray"> --&gt;</span>
   &lt;<a href="http://hl7-fhir.github.io/bundle-definitions.html#Bundle.entry.search.score" title="When searching, the server's search ranking score for the entry." class="dict"><b>score</b></a> value="[<span style="color: darkgreen"><a href="http://hl7-fhir.github.io/datatypes.html#decimal">decimal</a></span>]"/&gt;<span style="color: Gray">&lt;!--</span> <span style="color: brown"><b>0..1</b></span> <span style="color: navy"><a style="color: navy" href="http://hl7-fhir.github.io/terminologies.html#unbound">Search ranking (between 0 and 1)</a></span><span style="color: Gray"> --&gt;</span>
  &lt;/search&gt;
  &lt;<a href="http://hl7-fhir.github.io/bundle-definitions.html#Bundle.entry.request" title="Additional information about how this entry should be processed as part of a transaction." class="dict"><b>request</b></a>&gt;  <span style="color: Gray">&lt;!-- <span style="color: brown" title="bdl-3: entry.request only for some types of bundles"><b><img src="http://hl7-fhir.github.io/lock.png" alt="??" /> 0..1</b></span> Transaction Related Information --&gt;</span>
   &lt;<a href="http://hl7-fhir.github.io/bundle-definitions.html#Bundle.entry.request.method" title="The HTTP verb for this entry in either a update history, or a transaction/ transaction response." class="dict"><b>method</b></a> value="[<span style="color: darkgreen"><a href="http://hl7-fhir.github.io/datatypes.html#code">code</a></span>]"/&gt;<span style="color: Gray">&lt;!--</span> <span style="color: brown"><b>1..1</b></span> <span style="color: navy"><a style="color: navy" href="http://hl7-fhir.github.io/valueset-http-verb.html">GET | POST | PUT | DELETE</a></span><span style="color: Gray"> --&gt;</span>
   &lt;<a href="http://hl7-fhir.github.io/bundle-definitions.html#Bundle.entry.request.url" title="The URL for this entry, relative to the root (the address to which the request is posted)." class="dict"><b>url</b></a> value="[<span style="color: darkgreen"><a href="http://hl7-fhir.github.io/datatypes.html#uri">uri</a></span>]"/&gt;<span style="color: Gray">&lt;!--</span> <span style="color: brown"><b>1..1</b></span> <span style="color: navy"><a style="color: navy" href="http://hl7-fhir.github.io/terminologies.html#unbound">URL for HTTP equivalent of this entry</a></span><span style="color: Gray"> --&gt;</span>
   &lt;<a href="http://hl7-fhir.github.io/bundle-definitions.html#Bundle.entry.request.ifNoneMatch" title="If the ETag values match, return a 304 Not modified status. See the API documentation for [&quot;Conditional Read&quot;](http.html#cread)." class="dict"><b>ifNoneMatch</b></a> value="[<span style="color: darkgreen"><a href="http://hl7-fhir.github.io/datatypes.html#string">string</a></span>]"/&gt;<span style="color: Gray">&lt;!--</span> <span style="color: brown"><b>0..1</b></span> <span style="color: navy"><a style="color: navy" href="http://hl7-fhir.github.io/terminologies.html#unbound">For managing cache currency</a></span><span style="color: Gray"> --&gt;</span>
   &lt;<a href="http://hl7-fhir.github.io/bundle-definitions.html#Bundle.entry.request.ifModifiedSince" title="Only perform the operation if the last updated date matches. See the API documentation for [&quot;Conditional Read&quot;](http.html#cread)." class="dict"><b>ifModifiedSince</b></a> value="[<span style="color: darkgreen"><a href="http://hl7-fhir.github.io/datatypes.html#instant">instant</a></span>]"/&gt;<span style="color: Gray">&lt;!--</span> <span style="color: brown"><b>0..1</b></span> <span style="color: navy"><a style="color: navy" href="http://hl7-fhir.github.io/terminologies.html#unbound">For managing update contention</a></span><span style="color: Gray"> --&gt;</span>
   &lt;<a href="http://hl7-fhir.github.io/bundle-definitions.html#Bundle.entry.request.ifMatch" title="Only perform the operation if the Etag value matches. For more information, see the API section [&quot;Managing Resource Contention&quot;](http.html#concurrency)." class="dict"><b>ifMatch</b></a> value="[<span style="color: darkgreen"><a href="http://hl7-fhir.github.io/datatypes.html#string">string</a></span>]"/&gt;<span style="color: Gray">&lt;!--</span> <span style="color: brown"><b>0..1</b></span> <span style="color: navy"><a style="color: navy" href="http://hl7-fhir.github.io/terminologies.html#unbound">For managing update contention</a></span><span style="color: Gray"> --&gt;</span>
   &lt;<a href="http://hl7-fhir.github.io/bundle-definitions.html#Bundle.entry.request.ifNoneExist" title="Instruct the server not to perform the create if a specified resource already exists. For further information, see the API documentation for [&quot;Conditional Create&quot;](http.html#ccreate). This is just the query portion of the URL - what follows the &quot;?&quot; (not including the &quot;?&quot;)." class="dict"><b>ifNoneExist</b></a> value="[<span style="color: darkgreen"><a href="http://hl7-fhir.github.io/datatypes.html#string">string</a></span>]"/&gt;<span style="color: Gray">&lt;!--</span> <span style="color: brown"><b>0..1</b></span> <span style="color: navy"><a style="color: navy" href="http://hl7-fhir.github.io/terminologies.html#unbound">For conditional creates</a></span><span style="color: Gray"> --&gt;</span>
  &lt;/request&gt;
  &lt;<a href="http://hl7-fhir.github.io/bundle-definitions.html#Bundle.entry.response" title="Additional information about how this entry should be processed as part of a transaction." class="dict"><b>response</b></a>&gt;  <span style="color: Gray">&lt;!-- <span style="color: brown" title="bdl-4: entry.response only for some types of bundles"><b><img src="http://hl7-fhir.github.io/lock.png" alt="??" /> 0..1</b></span> Transaction Related Information --&gt;</span>
   &lt;<a href="http://hl7-fhir.github.io/bundle-definitions.html#Bundle.entry.response.status" title="The status code returned by processing this entry." class="dict"><b>status</b></a> value="[<span style="color: darkgreen"><a href="http://hl7-fhir.github.io/datatypes.html#string">string</a></span>]"/&gt;<span style="color: Gray">&lt;!--</span> <span style="color: brown"><b>1..1</b></span> <span style="color: navy"><a style="color: navy" href="http://hl7-fhir.github.io/terminologies.html#unbound">Status return code for entry</a></span><span style="color: Gray"> --&gt;</span>
   &lt;<a href="http://hl7-fhir.github.io/bundle-definitions.html#Bundle.entry.response.location" title="The location header created by processing this operation." class="dict"><b>location</b></a> value="[<span style="color: darkgreen"><a href="http://hl7-fhir.github.io/datatypes.html#uri">uri</a></span>]"/&gt;<span style="color: Gray">&lt;!--</span> <span style="color: brown"><b>0..1</b></span> <span style="color: navy"><a style="color: navy" href="http://hl7-fhir.github.io/terminologies.html#unbound">The location, if the operation returns a location</a></span><span style="color: Gray"> --&gt;</span>
   &lt;<a href="http://hl7-fhir.github.io/bundle-definitions.html#Bundle.entry.response.etag" title="The etag for the resource, it the operation for the entry produced a versioned resource." class="dict"><b>etag</b></a> value="[<span style="color: darkgreen"><a href="http://hl7-fhir.github.io/datatypes.html#string">string</a></span>]"/&gt;<span style="color: Gray">&lt;!--</span> <span style="color: brown"><b>0..1</b></span> <span style="color: navy"><a style="color: navy" href="http://hl7-fhir.github.io/terminologies.html#unbound">The etag for the resource (if relevant)</a></span><span style="color: Gray"> --&gt;</span>
   &lt;<a href="http://hl7-fhir.github.io/bundle-definitions.html#Bundle.entry.response.lastModified" title="The date/time that the resource was modified on the server." class="dict"><b>lastModified</b></a> value="[<span style="color: darkgreen"><a href="http://hl7-fhir.github.io/datatypes.html#instant">instant</a></span>]"/&gt;<span style="color: Gray">&lt;!--</span> <span style="color: brown"><b>0..1</b></span> <span style="color: navy"><a style="color: navy" href="http://hl7-fhir.github.io/terminologies.html#unbound">Server's date time modified</a></span><span style="color: Gray"> --&gt;</span>
  &lt;/response&gt;
 &lt;/entry&gt;
 &lt;<a href="http://hl7-fhir.github.io/bundle-definitions.html#Bundle.signature" title="Digital Signature - base64 encoded. XML DigSIg or a JWT." class="dict"><b>signature</b></a>&gt;<span style="color: Gray">&lt;!--</span> <span style="color: brown"><b>0..1</b></span> <span style="color: darkgreen"><a href="http://hl7-fhir.github.io/datatypes.html#Signature">Signature</a></span> <span style="color: navy"><a style="color: navy" href="http://hl7-fhir.github.io/terminologies.html#unbound">Digital Signature</a></span><span style="color: Gray"> --&gt;</span>&lt;/signature&gt;
&lt;/Bundle&gt;
          </pre>
		    </section>
		    <section>
          <h2>Bundle RDF Content</h2>
          <pre class="FHIRRDF">
&lt;http://record/medpres1&gt; rdf:type owl:Ontology ; owl:imports &lt;http://hl7.org/fhir&gt; .
###  http://record/medpres1/bundle1
&lt;http://record/medpres1/bundle1&gt; rdf:type fhir:Bundle , owl:NamedIndividual ;
   fhir:Bundle.entry [ rdf:type fhir:Bundle.Entry ;
      fhir:Bundle.Entry.resource &lt; http://record/MedicationPrescription/1 &gt;
   ] ;
   fhir:Bundle.type [ fhir:value "searchset"];
   fhir:Bundle.link [ rdf:type fhir:uri ; fhir:value "self"] ;
   fhir:Bundle.total [ rdf:type fhir:unsignedInt ; fhir:value 3 ];
   fhir:Resource.meta [ rdf:type fhir:Meta ; fhir:Meta.lastUpdated
      [ rdf:type fhir:instant ; fhir:value "2015-08-02T00:00:00"^^xsd:dateTime]
   ]  .
###  http://record/MedicationPrescription/1
&lt;http://record/MedicationPrescription/1&gt; rdf:type profile:MedicationPrescription , owl:NamedIndividual ;
   fhir:MedicationOrder.medicationReference [ rdf:type fhir:Reference ;
      fhir:Reference.link &lt;http://record/Medication/1&gt; ;
      fhir:Reference.reference [ fhir:value http://record/Medication/1 ] ;
      fhir:Reference.display [ fhir:value "Amoxicillin (product)" ]
   ] ;
   fhir:MedicationOrder.patient [ rdf:type fhir:Reference ;
      fhir:Reference.link &lt;http://record/Patient/PeterPatient&gt; ;
      fhir:Reference.display [ fhir:value "Peter Patient" ] ;
      fhir:Reference.reference [ fhir:value "http://record/Patient/PeterPatient"
   ]
] .
          </pre>
          <p>
            A Bundle may or may not have an Id (inherited from Resource) therefore it can be referenced as an Ontology e.g. record/Bundle/123.
            It may therefore be a named or anonymous individual.
          </p>
		    </section>
		  </section>
			<h2> Ordering</h2>
		    <section>
        		<h2>RDF individual ordering example</h2>
        <p class="shared">
          Simple integer DataProperty fhir:index can be applied to individuals of subclasses of fhir:Element          
        </p>
        <pre class="FHIRRDF shared">
###  http://hl7.org/fhir/index
fhir:index rdf:type owl:DatatypeProperty ;
           rdfs:range fhir:index-primitive .
###  http://hl7.org/fhir/index-primitive
fhir:index-primitive rdf:type rdfs:Datatype ;
                     owl:equivalentClass [ rdf:type rdfs:Datatype ;
                                           owl:onDatatype xsd:integer ;
                                           owl:withRestrictions ( [ xsd:minInclusive 1 ] )
                     ] .
###  http://hl7.org/fhir/Element
fhir:Element rdf:type owl:Class ;
             rdfs:label "Element" ;
             rdfs:subClassOf [ rdf:type owl:Restriction ;
                               owl:onProperty fhir:Element.extension ;
                               owl:someValuesFrom fhir:Extension
                             ] ,
                             [ rdf:type owl:Restriction ;
                               owl:onProperty fhir:Element.id ;
                               owl:maxQualifiedCardinality "1"^^xsd:nonNegativeInteger ;
                               owl:onDataRange fhir:id-primitive
                             ] ,
                             [ rdf:type owl:Restriction ;
                               owl:onProperty fhir:index ;
                               owl:maxQualifiedCardinality "1"^^xsd:nonNegativeInteger ;
                               owl:onDataRange fhir:index-primitive
                             ] ;
             rdfs:comment "The base element used for all FHIR elements and resources - allows for them to be extended with extensions" .
 .
        </pre>
        <p class="shared">
          In general fhir:value and fhir:Element.id are converted to an attribute in XML. fhir:index dictates the sequence only.
        </p>
		  </section>
		</section>

  </body>
</html>
